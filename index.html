<!DOCTYPE html>
<html>
  <head>
    <!-- A-Frameを読み込む -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!-- AR.jsを読み込む -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <!-- three.jsを読み込む -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar.js"></script>


    <script src="camera.js"></script>

    <script>
      AFRAME.registerComponent('rotation-reader', {
        /**
         * We use IIFE (immediately-invoked function expression) to only allocate one
         * vector or euler and not re-create on every tick to save memory.
         */
        tick: (function () {
          var position = new THREE.Vector3();
          var quaternion = new THREE.Quaternion();

          return function () {
            this.el.object3D.getWorldPosition(position);
            this.el.object3D.getWorldQuaternion(quaternion);
            // position and rotation now contain vector and quaternion in world space.
          };
        })()
      });
    </script>
</head>
  </head style="margin: 0; overflow: hidden">
  <body>
    <a-scene embedded arjs vr-mode-ui="enabled: false">
      <!-- 城のオブジェクトを配置 -->
      <a-asset-item id = "castre" src = "assets/sample.glb"></a-asset-item>
      <a-gltf-model src = "#castre" 
                    scale = "1.0 1.0 1.0" 
                    position="0 -1.5 -10">
                    
                    <!-- X＝右　Y＝上　Z＝手前 -->
      </a-gltf-model>
      <!-- <a-entity  camera></a-entity> -->
      <a-entity camera look-controls rotation-reader></a-entity>
      <a-camera id = "camera">
        </a-camera>
      </a-entity>
      <!-- <a-entity camera="active: true" look-controls wasd-controls position="0 1.6 0" data-aframe-default-camera></a-entity> -->
    </a-scene>
  </body>
</html>